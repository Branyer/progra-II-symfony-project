{% extends 'base.html.twig' %}

{% block title %}Bills{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .bill {
        border: 2px solid black;
        display: flex;
        flex-direction: column;
        justify-content:center;
        align-items:center
    }



</style>

<div class="example-wrapper">
    {% for bill in bills %}
        <div class="bill">
            <p><b>User: </b>{{bill.user.email}}</b>
            <p><b>Package: </b>{{bill.package.Name}}</b>
            <p><b>Internet: </b>{{bill.package.internet ? bill.package.internet.speed : "none"}}  \ <b> Precio: </b> {{ bill.package.internet.price ? bill.package.internet.price : 0}}$ </p>
            <p><b>Telephony: </b>{{bill.package.telephony ? bill.package.telephony.minutes : "none"}} \ <b> Precio: </b> {{ bill.package.telephony.price ? bill.package.telephony.price : 0}}$  </p>
            <p><b>Cable: </b>{{bill.package.cable ? bill.package.cable.plan.Name : "none"}}  \ <b> Precio: </b> {{ bill.package.cable.price ? bill.package.cable.price : 0}}$ </p>
            <p><b>Discount: </b>{{bill.package.discount}}% </p>
            <p><b>Total: </b> {{  ((bill.package.internet.price ? bill.package.internet.price : 0) + (bill.package.telephony.price ? bill.package.telephony.price : 0) + (bill.package.cable.price ? bill.package.cable.price : 0)) - ((bill.package.internet.price ? bill.package.internet.price : 0) + (bill.package.telephony.price ? bill.package.telephony.price : 0) + (bill.package.cable.price ? bill.package.cable.price : 0))*(1/bill.package.discount) }}$</p> 
        </div>

    {% endfor %}
</div>
{% endblock %}
